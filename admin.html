<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Recipe - Richard's Recipe Collection</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Richard's Recipe Collection</h1>
        </div>
    </header>

    <main class="container">
        <div class="admin-form">
            <h2>Add New Recipe</h2>
            <div class="success-message" id="successMessage">
                Recipe file generated successfully! Copy the JSON below and save it as a file in the recipes folder.
            </div>

            <datalist id="ingredientCategoryList">
                <option value="Produce"></option>
                <option value="Meat & Poultry"></option>
                <option value="Seafood"></option>
                <option value="Dairy & Eggs"></option>
                <option value="Bakery"></option>
                <option value="Pantry & Dry Goods"></option>
                <option value="Baking & Spices"></option>
                <option value="Canned & Jarred"></option>
                <option value="Frozen Foods"></option>
                <option value="Condiments & Sauces"></option>
                <option value="International & Specialty"></option>
                <option value="Beverages"></option>
                <option value="Deli & Prepared Foods"></option>
                <option value="Household & Misc"></option>
                <option value="Other"></option>
            </datalist>

            <form id="recipeForm">
                <div class="form-group">
                    <label for="recipeName">Recipe Name *</label>
                    <input type="text" id="recipeName" required placeholder="e.g., Chocolate Chip Cookies">
                </div>

                <div class="form-group">
                    <label for="recipeCategory">Category *</label>
                    <select id="recipeCategory" required>
                        <option value="">Select a category</option>
                        <option value="Appetizer">Appetizer</option>
                        <option value="Main Course">Main Course</option>
                        <option value="Dessert">Dessert</option>
                        <option value="Side Dish">Side Dish</option>
                        <option value="Breakfast">Breakfast</option>
                        <option value="Lunch">Lunch</option>
                        <option value="Dinner">Dinner</option>
                        <option value="Snack">Snack</option>
                        <option value="Beverage">Beverage</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="recipeTags">Additional Tags</label>
                    <input type="text" id="recipeTags" placeholder="Comma separated list, e.g., vegetarian, make-ahead">
                    <small class="field-help">Tags power filtering and Mise en Place mode. The selected category is automatically added as the first tag.</small>
                </div>

                <div class="form-group">
                    <label for="recipeDescription">Description</label>
                    <textarea id="recipeDescription" placeholder="A brief description of the recipe..."></textarea>
                </div>

                <div class="form-group">
                    <label for="recipeImage">Recipe Image URL</label>
                    <input type="text" id="recipeImage" placeholder="e.g., images/chocolate-chip-cookies.jpg or https://example.com/image.jpg">
                    <small style="color: #666; display: block; margin-top: 0.5rem;">
                        You can use a local image path (e.g., images/recipe-name.jpg) or an external URL. 
                        For local images, save them in the <code>images/</code> folder.
                    </small>
                </div>

                <div class="form-group">
                    <label>Time Breakdown (minutes)</label>
                    <div class="time-grid">
                        <input type="number" id="timePrep" placeholder="Prep">
                        <input type="number" id="timeActive" placeholder="Active cook">
                        <input type="number" id="timePassive" placeholder="Passive/resting">
                        <input type="number" id="timeTotal" placeholder="Total">
                    </div>
                    <small class="field-help">Use plain numbers. Total time can be auto-calculated later if left blank.</small>
                </div>

                <div class="form-group">
                    <label>Ingredients *</label>
                    <small class="field-help">Capture aisle, prep action, prep time, and destination equipment to power Mise en Place mode.</small>
                    <div id="ingredientsList"></div>
                    <button type="button" class="btn btn-secondary btn-small" id="addIngredient">+ Add Ingredient</button>
                </div>

                <div class="form-group">
                    <label>Instructions *</label>
                    <small class="field-help">Optionally link each step to destination equipment for workflow grouping.</small>
                    <div id="instructionsList"></div>
                    <button type="button" class="btn btn-secondary btn-small" id="addInstruction">+ Add Instruction</button>
                </div>

                <div class="form-group">
                    <label>Equipment</label>
                    <small class="field-help">Optional. Provide an id to link ingredients and instructions to this piece of equipment.</small>
                    <div id="equipmentList"></div>
                    <button type="button" class="btn btn-secondary btn-small" id="addEquipment">+ Add Equipment</button>
                </div>

                <div class="form-group">
                    <label for="recipeTechniques">Techniques</label>
                    <input type="text" id="recipeTechniques" placeholder="Comma separated list, e.g., sautÃ©, deglaze, temper">
                    <small class="field-help">Matches against the shared technique library for in-app tooltips.</small>
                </div>

                <button type="submit" class="btn btn-primary">Generate Recipe File</button>
            </form>

            <div class="file-output" id="fileOutput" style="display: none;">
                <h3>Recipe JSON File</h3>
                <p>Save this content as a JSON file in the <code>recipes/</code> folder. Use a filename like: <code>recipe-name.json</code></p>
                <textarea id="recipeJson" readonly></textarea>
                <button type="button" class="btn btn-primary copy-btn" id="copyBtn">Copy to Clipboard</button>
                <button type="button" class="btn btn-secondary copy-btn" id="downloadBtn">Download File</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 My Recipe Collection | Hosted on GitHub Pages</p>
        </div>
    </footer>

    <script src="admin.js"></script>
</body>
</html>

